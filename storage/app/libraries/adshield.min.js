AdShield=function(){var e=this;e.urls={},e.UserKey=null,e.AdShieldType=3,this.Element&&function(e){e.matches=e.matches||e.matchesSelector||e.webkitMatchesSelector||e.msMatchesSelector||function(e){for(var t=this,n=(t.parentNode||t.document).querySelectorAll(e),o=-1;n[++o]&&n[o]!=t;);return!!n[o]}}(Element.prototype),this.Element&&function(e){e.closest=e.closest||function(e){for(var t=this;t.matches&&!t.matches(e);)t=t.parentNode;return t.matches?t:null}}(Element.prototype),GetParameterByName=function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),o=n.exec(t);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):"":null},e.httpGet=function(e,t,n){var o=new XMLHttpRequest;o.onreadystatechange=function(){4==this.readyState&&200==this.status&&n(this.responseText.toJSON())},o.open("GET",e,!0);var i=JSON.stringify(t);o.send(i)},e.httpPost=function(e,t,n){var o=new XMLHttpRequest;o.addEventListener("load",n),o.open("POST",e,!0),o.setRequestHeader("Content-Type","application/json"),o.send(JSON.stringify(t))},e.SendStatLog=function(t){var n=document.referrer,o=encodeURIComponent(n);n.indexOf("://")>-1?domain=n.split("/")[2]:domain=n.split("/")[0],domain=domain.split(":")[0];var i=document.location.toString()||"",r=GetParameterByName("utm_source"),d=GetParameterByName("utm_medium"),l={key:e.UserKey,url:domain,full_url:o,status:t,source:r,sub_source:d,user_agent:navigator.userAgent,visitUrl:i};e.httpPost(e.urls.statlog,l,function(e){})},e.CheckIframed=function(){return window.top!=window.self&&(document.querySelectorAll("a").forEach(function(e){e.onclick=function(){return window.open(e.href),!1}}),e.SendStatLog(5),!0)},e.CheckReferrerUrl=function(){var t=document.referrer;if(""==t)return void(window.top==window.self&&e.SendStatLog(7));var n=encodeURIComponent(document.referrer);t.indexOf("://")>-1?domain=t.split("/")[2]:domain=t.split("/")[0],domain=domain.split(":")[0];var o=GetParameterByName("utm_source"),i=GetParameterByName("utm_medium"),r={key:e.UserKey,url:domain,fullUrl:n,source:o,sub_source:i,user_agent:navigator.userAgent};e.httpPost(e.urls.checkReferrer,r,function(e){switch(e.result){case"{{ ReferrerFilterController::STATUS_SAFE }}":break;case"{{ ReferrerFilterController::STATUS_UNKNOWN }}":break;case"{{ ReferrerFilterController::STATUS_UNSAFE }}":}},"json")};e.StartAdShield=function(){var t="ins.adsbygoogle ins ins, div.advertiseAd, div.redirectAd, div[id^='rcjsload'], div.zergnetAd,iframe[src*='yieldtraffic.com']",n=e.AdShieldType;if("undefined"!=typeof n){if("0"==n)return;shield_type=n}var o="as"+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);if("1"==shield_type){var i=t;e.ActivateShieldForAds(o,i)}else if("2"==shield_type){var r=document.createElement("div");r.style.position="fixed",r.style.top=0,r.style.left=0,r.style.right=0,r.style.bottom=0,r.style.background="#000",r.style.opacity="0.0",r.id=o,document.querySelector("body").appendChild(r)}else{if("3"!=shield_type)return;e.ClickedMyAd.init({selectors:t,onClick:function(){try{fbq("track","AdClick")}catch(e){}try{dataLayer.push({event:"Adsense Click"})}catch(e){}e.LogAdShieldClick(function(e,t){0===t&&(window.location="")},{ad_type:e.ClickedMyAd.adType,status:e.ClickedMyAd.statusValue})}}),e.ClickedMyAd.statusValue=0}e.SetAdshieldOnClick(o,shield_type),e.httpPost(e.urls.adShieldHandler,{checkip:1,key:e.UserKey},function(n){switch(n.status){case"1":e.ClickedMyAd.statusValue=1,document.querySelectorAll("div#"+o).forEach(function(e){e.parentNode.removeChild(e)});break;case"2":if("3"==shield_type){var i=t;e.ActivateShieldForAds(o,i),e.SetAdshieldOnClick(o,shield_type),e.ClickedMyAd.statusValue=0,e.ClickedMyAd.setClickCatch(!0),e.ClickedMyAd.lateShielding=function(t){e.ActivateShieldForAds(o,t),e.SetAdshieldOnClick(o,3)}}break;case"0":window.location="http://redirect.com"}},"json")},e.SetAdshieldOnClick=function(t,n){document.querySelectorAll("body div#"+t).forEach(function(e){e.removeEventListener("click")}),document.querySelectorAll("div#"+t).forEach(function(e){e.removeEventListener("click")}),document.querySelectorAll("div#"+t).forEach(function(t){t.click(function(){e.LogAdShieldClick(function(t,o){0===o&&(window.location="http://redirect.com"),"3"==n&&(e.ClickedMyAd.setClickCatch(!1),e.ClickedMyAd.statusValue=1)})})})},e.LogAdShieldClick=function(t,n){var o=navigator.userAgent,i=document.referrer,r=document.location.href,d=GetParameterByName("utm_medium"),l={key:e.UserKey,userAgent:encodeURIComponent(o),refererUrl:encodeURIComponent(i),targetUrl:encodeURIComponent(r),subsource:d,lgadclk:1};"undefined"!=typeof n&&("undefined"!=typeof n.ad_type&&(l.ad_type=n.ad_type),"undefined"!=typeof n.status&&(l.status=n.status)),e.httpPost(e.urls.adShieldHandler,l,function(e){t(e.id,e.status)},"json")},e.ActivateShieldForAds=function(e,t){document.querySelectorAll(t).forEach(function(t){var n=document.createElement("div");n.style.position="absolute",n.style.top=0,n.style.left=0,n.style.width="100%",n.style.height="100%",n.style.background="#000",n.style.opacity="0.0",n.style.zIndex="1",n.id=e;var o=t.tagName;if("IFRAME"==o){var i=document.createElement("div");t.parentNode.insertBefore(i,t),i.appendChild(t);var r=t,d=r.closest("div");d.style.position="relative",d.appendChild(n)}else t.style.position="relative",t.appendChild(n)})},e.ClickedMyAd={overAnAd:!1,clickIsHandled:!1,statusValue:0,adType:0,selectors:"ins.adsbygoogle ins ins",isMouseMoving:!1,onClick:function(){},init:function(e){var t=this;"undefined"!=typeof e.selectors&&(t.selectors=e.selectors),"undefined"!=typeof e.onClick&&(t.onClick=e.onClick),document.querySelectorAll(t.selectors).forEach(function(e){e.onmouseover=function(){t.overAnAd||(t.overAnAd=!0,t.adType=t.getType(e))},e.onmouseout=function(){t.isMouseMoving&&(t.overAnAd=!1)}}),window.onblur=function(){t.clickIsHandled||t.overAnAd&&(t.onClick(),t.overAnAd=!1)},window.focus();var n;document.onmousemove=function(){t.isMouseMoving=!0,clearTimeout(n),n=setTimeout(function(){t.isMouseMoving=!1},500)}},getType:function(e){var t=e.tagName,n="undefined"==typeof e.id?"":e.id,o="undefined"==typeof e.className?"":e.className;return"INS"==t?0:n.indexOf("rcjsload")>-1?1:n.indexOf("revexitunit")>-1?1:o.indexOf("advertiseAd")>-1?1:o.indexOf("redirectAd")>-1?1:o.indexOf("zergnetAd")>-1?1:"IFRAME"==t?0:1},setClickCatch:function(e){this.clickIsHandled=e},addElementToProtect:function(e){var t=this;document.querySelectorAll(e).forEach(function(e){e.onmouseover=function(){t.overAnAd||(t.overAnAd=!0,t.adType=t.getType(e))},e.onmouseout=function(){t.overAnAd=!1}}),window.onblur(function(){t.clickIsHandled||t.overAnAd&&(t.onClick(),t.overAnAd=!1)}),window.focus(),t.lateShielding(e)},lateShielding:function(e){}},e.LogCaptcha=function(t,n){e.httpPost(e.urls.adShieldHandler,{key:e.UserKey,logCaptcha:1,log_id:t,status:n},function(e){})},e.FillValue=function(t,n){switch(t){case"key":e.UserKey=n}},e.CheckViolations=function(){var t=document.referrer,n={refererUrl:t,fullUrl:encodeURIComponent(t),source:GetParameterByName("utm_source"),subsource:GetParameterByName("utm_medium"),visitUrl:"",userAgent:navigator.userAgent};t.indexOf("://")>-1?domain=t.split("/")[2]:domain=t.split("/")[0],domain=domain.split(":")[0],n.visitUrl=document.location.toString()||"",e.httpPost(e.urls.vlog+"/"+e.UserKey,n,function(t){e.ViolationResponse(t.action)})},e.ViolationResponse=function(e,t){},e.Init=function(){for(var t in _adshield)for(var n in _adshield[t])e.FillValue(n,_adshield[t][n]);if(null==e.UserKey)throw{name:"Credential required",message:"Can't find your UserKey. Please follow the instruction on integration from our doc page."};e.AdShieldType=3,e.CheckIframed(),e.CheckReferrerUrl(),e.StartAdShield(),e.CheckViolations()}},AdShield=new AdShield;
//# sourceMappingURL=script.min.js.map