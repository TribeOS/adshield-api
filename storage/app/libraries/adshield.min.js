AdShield=function(){var e=this;e.urls={},e.UserKey=null,e.AdShieldType=3;var t=function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),n=i.exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null};e.SendStatLog=function(i){var n=document.referrer,d=encodeURIComponent(n);n.indexOf("://")>-1?domain=n.split("/")[2]:domain=n.split("/")[0],domain=domain.split(":")[0];var o=document.location.toString()||"",r=t("utm_source"),s=t("utm_medium"),c={key:e.UserKey,url:domain,full_url:d,status:i,source:r,sub_source:s,user_agent:navigator.userAgent,visitUrl:o};$.post(e.urls.statlog,c,function(e){})},e.CheckIframed=function(){return window.top!=window.self&&($("a").click(function(){return window.open($(this).attr("href")),!1}),e.SendStatLog(5),!0)},e.CheckReferrerUrl=function(){var i=document.referrer;if(""==i)return void(window.top==window.self&&e.SendStatLog(7));var n=encodeURIComponent(document.referrer);i.indexOf("://")>-1?domain=i.split("/")[2]:domain=i.split("/")[0],domain=domain.split(":")[0];var d=t("utm_source"),o=t("utm_medium"),r={key:e.UserKey,url:domain,fullUrl:n,source:d,sub_source:o,user_agent:navigator.userAgent};$.post(e.urls.checkReferrer,r,function(e){switch(e.result){case"{{ ReferrerFilterController::STATUS_SAFE }}":break;case"{{ ReferrerFilterController::STATUS_UNKNOWN }}":break;case"{{ ReferrerFilterController::STATUS_UNSAFE }}":}},"json")};e.StartAdShield=function(){var t="ins.adsbygoogle ins ins, div.advertiseAd, div.redirectAd, div[id^='rcjsload'], div.zergnetAd,iframe[src*='yieldtraffic.com']",i=e.AdShieldType;if("undefined"!=typeof i){if("0"==i)return;shield_type=i}var n="cip_shcat_js";if("1"==shield_type){var d=t;e.ActivateShieldForAds(n,d)}else if("2"==shield_type){var o=$(document.createElement("div"));o.css({position:"fixed",top:0,left:0,right:0,bottom:0,background:"#000",opacity:"0.0"}),o.attr("id",n),$("body").append(o)}else{if("3"!=shield_type)return;e.ClickedMyAd.init({selectors:t,onClick:function(){try{fbq("track","AdClick")}catch(e){}try{dataLayer.push({event:"Adsense Click"})}catch(e){}e.LogAdShieldClick(function(e,t){0===t&&(window.location="")},{ad_type:e.ClickedMyAd.adType,status:e.ClickedMyAd.statusValue})}}),e.ClickedMyAd.statusValue=0}e.SetAdshieldOnClick(n,shield_type),$.post(e.urls.adShieldHandler,{checkip:1,key:e.UserKey},function(i){switch(i.status){case"1":e.ClickedMyAd.statusValue=1,$("div#"+n).remove();break;case"2":if("3"==shield_type){var d=t;e.ActivateShieldForAds(n,d),e.SetAdshieldOnClick(n,shield_type),e.ClickedMyAd.statusValue=0,e.ClickedMyAd.setClickCatch(!0),e.ClickedMyAd.lateShielding=function(t){e.ActivateShieldForAds(n,t),e.SetAdshieldOnClick(n,3)}}break;case"0":window.location="http://redirect.com"}},"json")},e.SetAdshieldOnClick=function(t,i){$("body").off("click","div#"+t),$("div#"+t).off("click"),$("div#"+t).click(function(){e.LogAdShieldClick(function(t,n){0===n&&(window.location="http://redirect.com"),"3"==i&&(e.ClickedMyAd.setClickCatch(!1),e.ClickedMyAd.statusValue=1)})})},e.LogAdShieldClick=function(i,n){var d=navigator.userAgent,o=document.referrer,r=document.location.href,s=t("utm_medium"),c={key:e.UserKey,userAgent:encodeURIComponent(d),refererUrl:encodeURIComponent(o),targetUrl:encodeURIComponent(r),subsource:s,lgadclk:1};"undefined"!=typeof n&&("undefined"!=typeof n.ad_type&&(c.ad_type=n.ad_type),"undefined"!=typeof n.status&&(c.status=n.status)),$.post(e.urls.adShieldHandler,c,function(e){i(e.id,e.status)},"json")},e.ActivateShieldForAds=function(e,t){$(t).each(function(t){var i=$(document.createElement("div"));css={position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"#000",opacity:"0.0","z-index":"1"},i.css(css),i.attr("id",e);var n=$(this).prop("tagName");if("IFRAME"==n){$(this).wrap("<div></div>");var d=$(this),o=d.closest("div");$(o).css({position:"relative"}).append(i)}else $(this).css({position:"relative"}).append(i)})},e.ClickedMyAd={overAnAd:!1,clickIsHandled:!1,statusValue:0,adType:0,selectors:"ins.adsbygoogle ins ins",onClick:function(){},init:function(e){var t=this;"undefined"!=typeof e.selectors&&(t.selectors=e.selectors),"undefined"!=typeof e.onClick&&(t.onClick=e.onClick),$(t.selectors).mouseover(function(){t.overAnAd||(t.overAnAd=!0,t.adType=t.getType($(this)))}).mouseout(function(){t.overAnAd=!1}),$(window).blur(function(){t.clickIsHandled||t.overAnAd&&(t.onClick(),t.overAnAd=!1)}).focus()},getType:function(e){var t=e.prop("tagName"),i=e.attr("id"),n="undefined"==typeof e.attr("class")?"":e.attr("class");return"INS"==t?0:i.indexOf("rcjsload")>-1?1:i.indexOf("revexitunit")>-1?1:n.indexOf("advertiseAd")>-1?1:n.indexOf("redirectAd")>-1?1:n.indexOf("zergnetAd")>-1?1:"IFRAME"==t?0:1},setClickCatch:function(e){this.clickIsHandled=e},addElementToProtect:function(e){var t=this;$(e).mouseover(function(){t.overAnAd||(t.overAnAd=!0,t.adType=t.getType($(this)))}).mouseout(function(){t.overAnAd=!1}),$(window).blur(function(){t.clickIsHandled||t.overAnAd&&(t.onClick(),t.overAnAd=!1)}).focus(),t.lateShielding(e)},lateShielding:function(e){}},e.LogCaptcha=function(t,i){$.post(e.urls.adShieldHandler,{key:e.UserKey,logCaptcha:1,log_id:t,status:i},function(e){})},e.FillValue=function(t,i){switch(t){case"key":e.UserKey=i}},e.Init=function(){for(var t in _adshield)for(var i in _adshield[t])e.FillValue(i,_adshield[t][i]);if(null==e.UserKey)throw{name:"Credential required",message:"Can't find your UserKey. Please follow the instruction on integration from our doc page."};e.AdShieldType=3,e.CheckIframed(),e.CheckReferrerUrl(),e.StartAdShield()}},AdShield=new AdShield;
//# sourceMappingURL=script.min.js.map