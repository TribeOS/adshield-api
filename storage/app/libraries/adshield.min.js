AdShield=function(){var e=this;e.urls={},e.UserKey=null,e.AdShieldType=3;var t=function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),n=i.exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null};e.SendStatLog=function(i){var n=document.referrer,o=encodeURIComponent(document.referrer);n.indexOf("://")>-1?domain=n.split("/")[2]:domain=n.split("/")[0],domain=domain.split(":")[0];var d=document.location.toString()||"",r=t("utm_source"),c=t("utm_medium"),s={key:e.UserKey,url:domain,full_url:o,status:i,source:r,sub_source:c,user_agent:navigator.userAgent,visitUrl:d};$.post(e.urls.statlog,s,function(e){})},e.CheckIframed=function(){return window.top!=window.self&&($("a").click(function(){return window.open($(this).attr("href")),!1}),e.SendStatLog(5),!0)},e.CheckReferrerUrl=function(){var i=document.referrer;if(""==i)return void(window.top==window.self&&e.SendStatLog(7));var n=encodeURIComponent(document.referrer);i.indexOf("://")>-1?domain=i.split("/")[2]:domain=i.split("/")[0],domain=domain.split(":")[0];var o=t("utm_source"),d=t("utm_medium"),r={key:e.UserKey,url:domain,fullUrl:n,source:o,sub_source:d,user_agent:navigator.userAgent};$.post(e.urls.checkReferrer,r,function(e){switch(e.result){case"{{ ReferrerFilterController::STATUS_SAFE }}":break;case"{{ ReferrerFilterController::STATUS_UNKNOWN }}":break;case"{{ ReferrerFilterController::STATUS_UNSAFE }}":}},"json")};e.StartAdShield=function(){var t="ins.adsbygoogle ins ins, div.advertiseAd, div.redirectAd, div[id^='rcjsload'], div.zergnetAd,iframe[src*='yieldtraffic.com']",i="2",n=e.AdShieldType;if("undefined"!=typeof n){if("0"==n)return;i=n}var o="cip_shcat_js";if("1"==i){var d=t;e.ActivateShieldForAds(o,d)}else if("2"==i){var r=$(document.createElement("div"));r.css({position:"fixed",top:0,left:0,right:0,bottom:0,background:"#000",opacity:"0.0"}),r.attr("id",o),$("body").append(r)}else{if("3"!=i)return;e.ClickedMyAd.init({selectors:t,onClick:function(){try{fbq("track","AdClick")}catch(e){}try{dataLayer.push({event:"Adsense Click"})}catch(e){}e.LogAdShieldClick(function(e,t){0===t&&(window.location="")},{ad_type:e.ClickedMyAd.adType,status:e.ClickedMyAd.statusValue})}}),e.ClickedMyAd.statusValue=0}e.SetAdshieldOnClick(o,i),$.get(e.urls.ipChecker,{checkip:1,key:e.UserKey},function(n){switch(n.status){case"1":e.ClickedMyAd.statusValue=1,$("div#"+o).remove();break;case"2":if("3"==i){var d=t;e.ActivateShieldForAds(o,d),e.SetAdshieldOnClick(o,i),e.ClickedMyAd.statusValue=0,e.ClickedMyAd.setClickCatch(!0),e.ClickedMyAd.lateShielding=function(t){e.ActivateShieldForAds(o,t),e.SetAdshieldOnClick(o,3)}}break;case"0":window.location="http://redirect.com"}},"json")},e.SetAdshieldOnClick=function(t,i){$("body").off("click","div#"+t),$("div#"+t).off("click"),$("div#"+t).click(function(){e.LogAdShieldClick(function(t,n){0===n&&(window.location="http://redirect.com"),"3"==i&&(e.ClickedMyAd.setClickCatch(!1),e.ClickedMyAd.statusValue=1)})})},e.LogAdShieldClick=function(i,n){var o=navigator.userAgent,d=document.referrer,r=document.location.href,c=t("utm_medium"),s={key:e.UserKey,userAgent:encodeURIComponent(o),refererUrl:encodeURIComponent(d),targetUrl:encodeURIComponent(r),subsource:c,lgadclk:1};"undefined"!=typeof n&&("undefined"!=typeof n.ad_type&&(s.ad_type=n.ad_type),"undefined"!=typeof n.status&&(s.status=n.status)),$.post(e.urls.adShieldHandler,s,function(e){i(e.id,e.status)},"json")},e.ActivateShieldForAds=function(e,t){$(t).each(function(t){var i=$(document.createElement("div"));css={position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"#000",opacity:"0.0","z-index":"1"},i.css(css),i.attr("id",e);var n=$(this).prop("tagName");if("IFRAME"==n){$(this).wrap("<div></div>");var o=$(this),d=o.closest("div");$(d).css({position:"relative"}).append(i)}else $(this).css({position:"relative"}).append(i)})},e.ClickedMyAd={overAnAd:!1,clickIsHandled:!1,statusValue:0,adType:0,selectors:"ins.adsbygoogle ins ins",onClick:function(){},init:function(e){var t=this;"undefined"!=typeof e.selectors&&(t.selectors=e.selectors),"undefined"!=typeof e.onClick&&(t.onClick=e.onClick),$(t.selectors).mouseover(function(){t.overAnAd||(t.overAnAd=!0,t.adType=t.getType($(this)))}).mouseout(function(){t.overAnAd=!1}),$(window).blur(function(){t.clickIsHandled||t.overAnAd&&(t.onClick(),t.overAnAd=!1)}).focus()},getType:function(e){var t=e.prop("tagName"),i=e.attr("id"),n="undefined"==typeof e.attr("class")?"":e.attr("class");return"INS"==t?0:i.indexOf("rcjsload")>-1?1:i.indexOf("revexitunit")>-1?1:n.indexOf("advertiseAd")>-1?1:n.indexOf("redirectAd")>-1?1:n.indexOf("zergnetAd")>-1?1:"IFRAME"==t?0:1},setClickCatch:function(e){this.clickIsHandled=e},addElementToProtect:function(e){var t=this;$(e).mouseover(function(){t.overAnAd||(t.overAnAd=!0,t.adType=t.getType($(this)))}).mouseout(function(){t.overAnAd=!1}),$(window).blur(function(){t.clickIsHandled||t.overAnAd&&(t.onClick(),t.overAnAd=!1)}).focus(),t.lateShielding(e)},lateShielding:function(e){}},e.LogCaptcha=function(t,i){$.post(e.urls.adShieldHandler,{key:e.UserKey,logCaptcha:1,log_id:t,status:i},function(e){})},e.FillValue=function(t,i){switch(t){case"key":e.UserKey=i}},e.Init=function(){for(var t in _adshield)for(var i in _adshield[t])e.FillValue(i,_adshield[t][i]);if(null==e.UserKey)throw{name:"Credential required",message:"Can't find your UserKey. Please follow the instruction on integration from our doc page."};e.AdShieldType=3,e.CheckIframed(),e.CheckReferrerUrl()}},AdShield=new AdShield;
//# sourceMappingURL=script.min.js.map