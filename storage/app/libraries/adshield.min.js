AdShield=function(){var d=this;d.urls={};d.UserKey=null;d.AdShieldType=3;this.Element&&function(e){e.matches=e.matches||e.matchesSelector||e.webkitMatchesSelector||e.msMatchesSelector||function(e){var t=this,n=(t.parentNode||t.document).querySelectorAll(e),i=-1;while(n[++i]&&n[i]!=t);return!!n[i]}}(Element.prototype);this.Element&&function(e){e.closest=e.closest||function(e){var t=this;while(t.matches&&!t.matches(e))t=t.parentNode;return t.matches?t:null}}(Element.prototype);GetParameterByName=function(e,t){if(!t)t=window.location.href;e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),i=n.exec(t);if(!i)return null;if(!i[2])return"";return decodeURIComponent(i[2].replace(/\+/g," "))};d.httpGet=function(e,t,n){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(this.readyState==4&&this.status==200){n(this.responseText.toJSON())}};i.open("GET",e,true);var r=JSON.stringify(t);i.send(r)};d.httpPost=function(e,t,n){var i=new XMLHttpRequest;i.addEventListener("load",n);i.open("POST",e,true);i.setRequestHeader("Content-Type","application/json");i.send(JSON.stringify(t))};d.SendStatLog=function(e){var t=document.referrer;var n=encodeURIComponent(t);if(t.indexOf("://")>-1){domain=t.split("/")[2]}else{domain=t.split("/")[0]}domain=domain.split(":")[0];var i=document.location.toString()||"";var r=GetParameterByName("utm_source");var o=GetParameterByName("utm_medium");var l={key:d.UserKey,url:domain,full_url:n,status:e,source:r,sub_source:o,user_agent:navigator.userAgent,visitUrl:i};d.httpPost(d.urls.statlog,l,function(e){})};d.CheckIframed=function(){if(window.top!=window.self){document.querySelectorAll("a").forEach(function(e){e.onclick=function(){window.open(e.href);return false}});d.SendStatLog(5);return true}return false};d.CheckReferrerUrl=function(){var e=document.referrer;if(e==""){if(window.top==window.self)d.SendStatLog(7);return}var t=encodeURIComponent(document.referrer);if(e.indexOf("://")>-1){domain=e.split("/")[2]}else{domain=e.split("/")[0]}domain=domain.split(":")[0];var n=GetParameterByName("utm_source");var i=GetParameterByName("utm_medium");var r={key:d.UserKey,url:domain,fullUrl:t,source:n,sub_source:i,user_agent:navigator.userAgent};d.httpPost(d.urls.checkReferrer,r,function(e){switch(e.result){case"{{ ReferrerFilterController::STATUS_SAFE }}":break;case"{{ ReferrerFilterController::STATUS_UNKNOWN }}":break;case"{{ ReferrerFilterController::STATUS_UNSAFE }}":break;default:}},"json")};var e=null;d.StartAdShield=function(){var n="ins.adsbygoogle ins ins, div.advertiseAd, div.redirectAd, div[id^='rcjsload'], div.zergnetAd,iframe[src*='yieldtraffic.com']";var e=d.AdShieldType;if(typeof e!="undefined"){if(e=="0"){return}else{shield_type=e}}var i="as"+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);if(shield_type=="1"){var t=n;d.ActivateShieldForAds(i,t)}else if(shield_type=="2"){var r=document.createElement("div");r.style.position="fixed";r.style.top=0;r.style.left=0;r.style.right=0;r.style.bottom=0;r.style.background="#000";r.style.opacity="0.0";r.id=i;document.querySelector("body").appendChild(r)}else if(shield_type=="3"){d.ClickedMyAd.init({selectors:n,onClick:function(){try{fbq("track","AdClick")}catch(e){}try{dataLayer.push({event:"Adsense Click"})}catch(e){}d.LogAdShieldClick(function(e,t){if(t===0)window.location=""},{ad_type:d.ClickedMyAd.adType,status:d.ClickedMyAd.statusValue})}});d.ClickedMyAd.statusValue=0}else{return}d.SetAdshieldOnClick(i,shield_type);d.httpPost(d.urls.adShieldHandler,{checkip:1,key:d.UserKey},function(e){switch(e.status){case"1":d.ClickedMyAd.statusValue=1;document.querySelectorAll("div#"+i).forEach(function(e){e.parentNode.removeChild(e)});break;case"2":if(shield_type=="3"){var t=n;d.ActivateShieldForAds(i,t);d.SetAdshieldOnClick(i,shield_type);d.ClickedMyAd.statusValue=0;d.ClickedMyAd.setClickCatch(true);d.ClickedMyAd.lateShielding=function(e){d.ActivateShieldForAds(i,e);d.SetAdshieldOnClick(i,3)}}break;case"0":window.location="http://redirect.com";break}},"json")};d.SetAdshieldOnClick=function(e,n){document.querySelectorAll("body div#"+e).forEach(function(e){e.removeEventListener("click")});document.querySelectorAll("div#"+e).forEach(function(e){e.removeEventListener("click")});document.querySelectorAll("div#"+e).forEach(function(e){e.click(function(){d.LogAdShieldClick(function(e,t){if(t===0)window.location="http://redirect.com";if(n=="3"){d.ClickedMyAd.setClickCatch(false);d.ClickedMyAd.statusValue=1}else{}})})})};d.LogAdShieldClick=function(t,e){var n=navigator.userAgent;var i=document.referrer;var r=document.location.href;var o=GetParameterByName("utm_medium");var l={key:d.UserKey,userAgent:encodeURIComponent(n),refererUrl:encodeURIComponent(i),targetUrl:encodeURIComponent(r),subsource:o,lgadclk:1};if(typeof e!="undefined"){if(typeof e.ad_type!="undefined")l.ad_type=e.ad_type;if(typeof e.status!="undefined")l.status=e.status}d.httpPost(d.urls.adShieldHandler,l,function(e){t(e.id,e.status)},"json")};d.ActivateShieldForAds=function(l,e){document.querySelectorAll(e).forEach(function(e){var t=document.createElement("div");t.style.position="absolute";t.style.top=0;t.style.left=0;t.style.width="100%";t.style.height="100%";t.style.background="#000";t.style.opacity="0.0";t.style.zIndex="1";t.id=l;var n=e.tagName;if(n=="IFRAME"){var i=document.createElement("div");e.parentNode.insertBefore(i,e);i.appendChild(e);var r=e;var o=r.closest("div");o.style.position="relative";o.appendChild(t)}else{e.style.position="relative";e.appendChild(t)}})};d.ClickedMyAd={overAnAd:false,clickIsHandled:false,statusValue:0,adType:0,selectors:"ins.adsbygoogle ins ins",isMouseMoving:false,onClick:function(){},init:function(e){var t=this;if(typeof e.selectors!="undefined")t.selectors=e.selectors;if(typeof e.onClick!="undefined")t.onClick=e.onClick;document.querySelectorAll(t.selectors).forEach(function(e){e.onmouseover=function(){if(t.overAnAd)return;t.overAnAd=true;t.adType=t.getType(e)};e.onmouseout=function(){if(t.isMouseMoving)t.overAnAd=false}});window.onblur=function(){if(t.clickIsHandled)return;if(!t.overAnAd)return;t.onClick();t.overAnAd=false};window.focus();var n;document.onmousemove=function(){t.isMouseMoving=true;clearTimeout(n);n=setTimeout(function(){t.isMouseMoving=false},500)}},getType:function(e){var t=e.tagName;var n=typeof e.id=="undefined"?"":e.id;var i=typeof e.className=="undefined"?"":e.className;if(t=="INS"){return 0}else if(n.indexOf("rcjsload")>-1){return 1}else if(n.indexOf("revexitunit")>-1){return 1}else if(i.indexOf("advertiseAd")>-1){return 1}else if(i.indexOf("redirectAd")>-1){return 1}else if(i.indexOf("zergnetAd")>-1){return 1}else if(t=="IFRAME"){return 0}else{return 1}return-1},setClickCatch:function(e){this.clickIsHandled=e},addElementToProtect:function(e){var t=this;document.querySelectorAll(e).forEach(function(e){e.onmouseover=function(){if(t.overAnAd)return;t.overAnAd=true;t.adType=t.getType(e)};e.onmouseout=function(){t.overAnAd=false}});window.onblur(function(){if(t.clickIsHandled)return;if(!t.overAnAd)return;t.onClick();t.overAnAd=false});window.focus();t.lateShielding(e)},lateShielding:function(e){}};d.LogCaptcha=function(e,t){d.httpPost(d.urls.adShieldHandler,{key:d.UserKey,logCaptcha:1,log_id:e,status:t},function(e){})};d.FillValue=function(e,t){switch(e){case"key":d.UserKey=t;break}};d.CheckViolations=function(){var e=document.referrer;var t={refererUrl:e,fullUrl:encodeURIComponent(e),source:GetParameterByName("utm_source"),subsource:GetParameterByName("utm_medium"),visitUrl:"",userAgent:navigator.userAgent,jsCheck:false,badBot:false};if(e.indexOf("://")>-1){domain=e.split("/")[2]}else{domain=e.split("/")[0]}domain=domain.split(":")[0];t.visitUrl=document.location.toString()||"";try{t.jsCheck=d.checkJSEngine()}catch(e){}try{t.badBot=d.isBadBot()}catch(e){}d.httpPost(d.urls.vlog+"/"+d.UserKey,t,function(e){d.ViolationResponse(e.action)})};d.ViolationResponse=function(e,t){};d.checkJSEngine=function(){if(typeof document=="undefined")return false;if(typeof document.URL=="undefined")return false;if(typeof window=="undefined")return false;if(typeof window.alert=="undefined")return false;if(typeof document.body=="undefined")return false;return true};d.isBadBot=function(){return false};d.Init=function(){for(var e in _adshield){for(var t in _adshield[e]){d.FillValue(t,_adshield[e][t])}}if(d.UserKey==null){throw{name:"Credential required",message:"Can't find your UserKey. Please follow the instruction on integration from our doc page."}}d.AdShieldType=3;d.CheckIframed();d.CheckReferrerUrl();d.StartAdShield();d.CheckViolations()}};AdShield=new AdShield;